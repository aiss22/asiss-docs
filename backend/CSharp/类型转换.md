# 类型转换

隐式转换（安全）(小范围转大范围)：
`int a =10; long b = a;`

```class Program
{
    static void Main()
    {
        int num = 100;      // int 类型
        long bigNum = num;  // 隐式转换为 long，无需显式代码

        Console.WriteLine("int 值: " + num);
        Console.WriteLine("long 值: " + bigNum);
    }
}
```

显式转换（强制、可能丢失精度）：
`double c = 3.14; int d = (int)c; (d=3)`

```class Program
{
    static void Main()
    {
        double pi = 3.14159;      // double 类型
        int approx = (int)pi;     // 显式转换为 int，小数部分被截断

        Console.WriteLine("double 值: " + pi);
        Console.WriteLine("int 值: " + approx);
    }
}
```

## 转换方法

`Convert.ToInt32()` or `int.Parse()`
`Convert类：int num = Convert.ToInt32("123");(适合字符串转数值)`

```class Program
{
    static void Main()
    {
        string strNum = "123";              // 字符串
        int num1 = Convert.ToInt32(strNum); // 使用 Convert 类转换
        int num2 = int.Parse(strNum);       // 使用 Parse 方法转换

        Console.WriteLine("Convert 转换: " + num1);
        Console.WriteLine("Parse 转换: " + num2);
    }
}    
```

`TryParse 变体`更安全，不会抛出异常

```string str = "456";
if (int.TryParse(str, out int result))
{
    Console.WriteLine("成功: " + result);
}
else
{
    Console.WriteLine("失败");
}
```
