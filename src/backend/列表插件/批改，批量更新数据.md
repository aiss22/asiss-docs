# 批改，批量更新，物料属性批量修改

业务场景：销售出库单列表，点批改按钮，物料属性批量修改

步骤：BOS--选择单据--增加一个下拉列表--绑定枚举类型（物料属性）--修改标识和名称
2. 点击新建--空白对象--普通动态表单（作用弹出对话框，选择后，批改）--新增下拉列表--修改标识，名字，枚举类型（物料属性）--添加文本字段FID--添加批改按钮--添加关闭按钮（点击事件新增关闭）
3. 单据列表菜单新增一个批改按钮

```示例
//点击按钮触发
public override void BarItemClick(BarItemClickEventArgs e)
{
    base.BarItemClick(e);
    if(e.BarItemKey.EqualsIgnoreCase("OXCH_tbBatchUpdate"))
    {
        //获取选择记录
        ListSelectedRowCollection selectRows = this.ListView.SelectedRowsInfo;

        //读取ID，放到数组
        string[] ID = selectRows.GetPrimaryKeyValues();
        string FID ="";

        //没有选择提示
        if(ID.Length ==0)
        {
            //如果选择的是0，即使没有选择行记录，弹窗报错，返回
            this.View.ShowMessage("请选择单据！",MessageBoxType.Notice);
            return;
        }
        else
        {
            //如果点击成功，循环ID
            for(int i =0;i<ID.Length;i++)
            {
                FID = FID + ID[i].ToString()+",";
            }
            DynamicFormShowParameter formParameter = new DynamicFormShowParameter();
            formParameter.FormId = "OXCH_WLSX";
            //FID通过字符串传递过去
            formParameter.CustomParams.Add("FID",FID.Substring(0,FID.Length - 1));
            this.View.ShowForm(formParameter);
        }
    }
}
```
