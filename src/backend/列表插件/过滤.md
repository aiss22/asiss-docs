# 列表插件：过滤PrepareFilterParameter

业务场景：模仿标准产品“我的费用报销”，创建我的采购订单，只显示自己录入的单据

步骤：点击发布--点击业务领域--新增我的单据--填写编码、名称--业务对象（选择想要的单据）--发布类型为列表--自定义参数（ListSet;My）

```示例
//过滤条件
public override void PrepareFilterParameter(FilterArgs e)
{
    base.PrepareFilterParameter(e);
    //定义过滤条件的字符串
    string filterstring = "";

    //加载的时候，获取发布主控制台设置的参数ListSet,My
    string listType = this.View.OpenParameter.GetCustomParameter("ListSet") as string;

    //判断字符串listType的值是否为空，或者空格，与My，不区分大小写对比
    if(!string.IsNullOrWhiteSpace(listType)&&listType.EqualsIgnoreCase("My"))
    {
        //创建人ID等于登录用户ID
        filterstring = string.Format("FCREATORID={0}", this.Context.UserId);
    }
    //原本的过滤条件e.Filterstring
    if(!string.IsNullOrWhiteSpace(e.FilterString)&& !string.IsNullOrWhiteSpace(filterstring))
    {
        e.FilterString +="AND";
    }
    e.FilterString += filterstring;

}
```
