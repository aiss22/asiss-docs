<<<<<<< HEAD
# 保存单据后自动提交

```1
public override void AfterDoOperation(AfterDoOperationEventArgs e)
{
    base.AfterDoOperation(e);
    /*if(!e.OperationResult.IsSuccess)
    {
        return;//操作失败
    }*/
    if(e.Operation.OperationId == 8)
    {
        //判断服务类型为页面或者用户类型为页面
        if(Context.ServiceType == WebType.WebService|| Context.ClientType == ClientType.WebApi)
        {
            //WebApi接口执行的保存操作
            //TODO
        }
        if(this.View is IImportView)
        {
            //Excel引入执行的保存操作
            //TODO
        }
        //保存后自动提交
        this.View.InvokeFormOperation(FormOperationEnum.Submit);//调用单据字段'提交'

    }
}
```
=======
# 保存单据后自动提交

```public override void AfterDoOperation(AfterDoOperationEventArgs e)
{
    base.AfterDoOperation(e);
    /*if(!e.OperationResult.IsSuccess)
    {
        return;//操作失败
    }*/
    if(e.Operation.OperationId == 8)
    {
        //判断服务类型为页面或者用户类型为页面
        if(Context.ServiceType == WebType.WebService|| Context.ClientType == ClientType.WebApi)
        {
            //WebApi接口执行的保存操作
            //TODO
        }
        if(this.View is IImportView)
        {
            //Excel引入执行的保存操作
            //TODO
        }
        //保存后自动提交
        this.View.InvokeFormOperation(FormOperationEnum.Submit);//调用单据字段'提交'

    }
}
```
>>>>>>> 7743361759f96bacfd22c86fcea90a36fcdac05f
