# 表格批量选中行后更新行选中状态

应用场景：表格有选中列，当表格数据行被选中后，更新选中列的状态

```1
//表单插件（表格批量选中行后更新行选中状态）
//BOS采购订单，明细信息新增一个复选框
public override void EntityRowClick(EntityRowClickEventArgs e)
{
    base.EntityRowClick(e);
    var entityKey = "FPOOrderEntry";//分录
    var fieldKey = "F_OXCH_CheckBox_sj6";//复选框
    var rowCount = this.Model.GetEntryRowCount(entityKey);//获取复选框数量
    if( rowCount == 0 )
    {
        return;//复选框等于0不执行
    }
    var grid = this.View.GetControl<EntryGrid>(entityKey);//获取当前分录列表
    var rowIndexs = grid.GetSelectedRows();//获取被选的行数
    for(var i = 0;i< rowCount;i++)
    {
        var isSelected = rowIndexs.Contains(i);
        this.Model.SetValue(fieldKey, isSelected,i);
    }
    this.View.UpdateView(fieldKey);

}
```
